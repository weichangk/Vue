<!DOCTYPE html>
<!-- 
https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise
-->
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    // Promise.all 等待所有都完成（或第一个失败）。
    var p1 = Promise.resolve(3);
    var p2 = 1337;
    var p3 = new Promise((resolve, reject) => {
      setTimeout(resolve, 1000, 'foo');
    });

    Promise.all([p1, p2, p3]).then(values => {
      console.log(values); // [3, 1337, "foo"]
    });




    var p11 = new Promise((resolve, reject) => {
      setTimeout(resolve, 1000, 'one');
    });
    var p12 = new Promise((resolve, reject) => {
      setTimeout(resolve, 2000, 'two');
    });
    var p13 = new Promise((resolve, reject) => {
      setTimeout(resolve, 3000, 'three');
    });
    var p14 = new Promise((resolve, reject) => {
      setTimeout(resolve, 4000, 'four');
    });
    var p15 = new Promise((resolve, reject) => {
      reject('reject');
    });

    Promise.all([p11, p12, p13, p14, p15]).then(values => {
      console.log(values);
    }, reason => {
      console.log(reason)
    });
    //"reject"



  </script>
</body>

</html>